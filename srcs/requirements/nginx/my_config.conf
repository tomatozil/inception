

# server {
#     listen 443 ssl;
#     server_name jiyun.42.fr www.jiyun.42.fr;
#
#     root /var/www/html;
# #     index index.html;
#
#     # Path to certs
#     ssl_protocols TLSv1.2;
#     ssl_certificate /etc/nginx/ssl/server.crt;
#     ssl_certificate_key /etc/nginx/ssl/server.key;
#
#     location / {
#     	index			index.php;
#     }
#
#     # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
#     location ~ \.php$ {
#        fastcgi_pass   127.0.0.1:9000;
#        fastcgi_index  index.php;
#        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
#        include        fastcgi_params;
#        try_files $uri = 404;
#     }
# }

server {
	listen				443 ssl;
	root				/var/www/html;
	server_name			jiyun.42.fr www.jiyun.42.fr;

	ssl_certificate /etc/nginx/ssl/server.crt;
    ssl_certificate_key /etc/nginx/ssl/server.key;
	ssl_protocols		TLSv1.2 TLSv1.3;

	location / {
		index			index.php;
	}

	location ~ \.php$ {
		fastcgi_pass	wordpress:9000;
		include			fastcgi_params;
		fastcgi_index	index.php;
		fastcgi_param	SCRIPT_FILENAME $document_root/$fastcgi_script_name;
		try_files $uri = 404;
	}
}